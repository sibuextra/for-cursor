<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                var filteredData = jsonData.filter(row => row.some(filledCell));
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Downloader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Poppins:wght@400;600&display=swap');

        body {
            background-color: #212121;
            color: #fff;
            font-family: 'Poppins', sans-serif;
        }
        .drag-over {
            border: 2px dashed #f44336;
            background-color: #424242;
        }
        .thumbnail-container {
            width: 100%;
            max-width: 1280px;
            aspect-ratio: 16 / 9;
            background-color: #424242;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            color: #b0b0b0;
            border-radius: 8px;
            transition: background-color 0.3s ease;
            position: relative;
        }
        .section {
            background-color: #fff;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            opacity: 0;
            animation: fadeInSection 0.5s ease forwards;
        }
        .accordion-header {
            cursor: pointer;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
            color: #212121;
        }
        .accordion-header:hover {
            background-color: #f5f5f5;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            padding: 0 1.5rem;
            transition: max-height 0.5s ease, padding 0.5s ease;
        }
        .accordion-content.open {
            max-height: 2000px;
            padding: 1.5rem;
        }
        #transcriptDownloaderOutput .faq-section .accordion-header {
            background-color: transparent;
            color: #fff;
        }
        #transcriptDownloaderOutput .faq-section .accordion-header:hover {
            background-color: #424242;
        }
        #transcriptDownloaderOutput .faq-section .accordion-content {
            background-color: transparent;
            color: #d1d5db;
        }
        #transcriptDownloaderOutput .faq-section .section {
            background-color: transparent;
            box-shadow: none;
        }
        .home-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 1rem;
            justify-items: center;
        }
        .home-grid.small {
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        }
        .home-grid .thumbnail-preview,
        .home-grid .placeholder {
            width: 100%;
            aspect-ratio: 16/9;
        }
        .home-grid .placeholder {
            background: #e5e7eb;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: #6b7280;
            border-radius: 8px;
        }
        .home-large {
            max-width: 360px;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .home-small {
            max-width: 240px;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .channel-large,
        .watch-later-large {
            max-width: 360px;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .channel-small,
        .history,
        .watch-later-list {
            max-width: 168px;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .sidebar {
            max-width: 168px;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .watch-later-queue {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .watch-later-queue .video-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .watch-later-queue .thumbnail-preview {
            flex-shrink: 0;
        }
        .watch-later-queue .metadata {
            flex-grow: 1;
            margin-top: 0;
        }
        .watch-later-queue .placeholder {
            background: #e5e7eb;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            color: #6b7280;
            border-radius: 8px;
            width: 168px;
            aspect-ratio: 16/9;
        }
        .mobile-frame {
            position: relative;
            width: 300px;
            height: 600px;
            background: #000;
            border: 16px solid #000;
            border-radius: 36px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin: 0 auto;
        }
        .mobile-frame::before {
            content: '';
            position: absolute;
            top: 4px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 8px;
            background: #333;
            border-radius: 10px;
        }
        .mobile-screen {
            width: 100%;
            height: 100%;
            background: #fff;
            overflow-y: auto;
        }
        .mobile-full-width,
        .mobile-column {
            max-width: 100%;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .mobile-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .mobile-grid .thumbnail-preview,
        .mobile-grid .placeholder {
            width: 100%;
            aspect-ratio: 16/9;
        }
        .mobile-grid .placeholder {
            background: #e5e7eb;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: #6b7280;
            border-radius: 8px;
        }
        .appletv-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(384px, 1fr));
            gap: 1rem;
            justify-items: center;
        }
        .appletv-grid .thumbnail-preview,
        .appletv-grid .placeholder {
            width: 100%;
            max-width: 384px;
            aspect-ratio: 16/9;
        }
        .appletv-grid .placeholder {
            background: #e5e7eb;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: #6b7280;
            border-radius: 8px;
        }
        .original-image {
            max-width: 1280px;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .thumbnail-preview {
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .thumbnail-preview:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }
        .thumbnail-preview .thumbnail-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 16/9;
        }
        .thumbnail-preview .duration {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 2px 6px;
            font-size: 12px;
            border-radius: 3px;
            z-index: 10;
            text-shadow: 0 0 5px #fff, 0 0 10px #ff4444;
        }
        .thumbnail-preview .progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 4px;
            background: rgba(255, 0, 0, 0.5);
            border-radius: 0 0 8px 8px;
            animation: progress 3s ease infinite;
            z-index: 10;
        }
        .thumbnail-preview .channel-icon {
            width: 36px;
            height: 36px;
            background: #d1d5db;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        .thumbnail-preview .metadata {
            display: flex;
            align-items: center;
            margin-top: 0.25rem;
            color: #212121;
        }
        .thumbnail-preview .title {
            font-size: 1rem;
            font-weight: 500;
            color: #212121;
            line-height: 1.3;
            margin-bottom: 0.25rem;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            opacity: 0;
            animation: fadeInTitle 0.3s ease forwards;
            text-shadow: 0 0 5px #fff, 0 0 10px #ff4444;
        }
        .thumbnail-preview .info {
            font-size: 0.875rem;
            color: #606060;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .thumbnail-preview.small .title {
            font-size: 0.875rem;
        }
        .thumbnail-preview.small .info {
            font-size: 0.75rem;
        }
        .thumbnail-preview.small .channel-icon {
            width: 24px;
            height: 24px;
        }
        .thumbnail-preview.small .duration {
            font-size: 10px;
            padding: 1px 4px;
        }
        .thumbnail-preview.small .progress-bar {
            height: 3px;
        }
        .title-input {
            width: 100%;
            max-width: 1280px;
            padding: 0.75rem;
            border: 2px solid #424242;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            background-color: #fff;
            color: #212121;
        }
        .title-input:focus {
            border-color: #f44336;
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.1);
            animation: pulse 0.5s ease;
        }
        .url-input {
            width: 100%;
            max-width: 600px;
            padding: 0.75rem;
            border: 2px solid #424242;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            background-color: #fff;
            color: #212121;
        }
        .url-input:focus {
            border-color: #f44336;
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.1);
            animation: pulse 0.5s ease;
        }
        #uploadButton {
            position: relative;
            background: linear-gradient(45deg, #f44336, #ff6f61);
            box-shadow: 0 0 15px #f44336, 0 0 30px #ff6f61;
            transition: box-shadow 0.3s ease;
        }
        #uploadButton:hover {
            box-shadow: 0 0 20px #f44336, 0 0 40px #ff6f61;
        }
        #uploadButton::after {
            content: '';
            position: absolute;
            top: -50%;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.5) 0%, transparent 70%);
            opacity: 0.5;
            pointer-events: none;
        }
        .action-button {
            background: linear-gradient(45deg, #f44336, #ff6f61);
            color: #fff;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            transition: box-shadow 0.3s ease;
        }
        .action-button:hover {
            box-shadow: 0 0 15px #f44336, 0 0 30px #ff6f61;
        }
        .balloon-container {
            position: fixed;
            right: 20px;
            top: 0;
            height: 100vh;
            width: 80px;
            overflow: hidden;
            z-index: 1000;
            display: none;
        }
        .balloon-container.active {
            display: block;
        }
        .balloon-group {
            position: absolute;
            bottom: -150px;
            right: 0;
            animation: floatUp 6s linear infinite;
        }
        .balloon-group:nth-child(2) {
            animation-delay: 3s;
        }
        .balloon {
            width: 40px;
            height: 50px;
            background-color: #f44336;
            border-radius: 50% 50% 40% 40%;
            position: relative;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
        }
        .rope {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 30px;
            background-color: #8d5524;
        }
        .balloon-thumbnail {
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 48px;
            aspect-ratio: 16/9;
            background: #424242;
            border-radius: 4px;
        }
        .balloon-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 4px;
        }
        @keyframes floatUp {
            0% { bottom: -150px; opacity: 0; transform: translateX(0); }
            10% { opacity: 1; }
            50% { transform: translateX(-10px); }
            90% { opacity: 1; }
            100% { bottom: 100%; opacity: 0; transform: translateX(0); }
        }
        .nav-link {
            color: #fff;
            padding: 0.75rem 1.5rem;
            transition: background-color 0.3s ease, text-shadow 0.3s ease;
            position: relative;
        }
        .nav-link:hover {
            background-color: #424242;
            text-shadow: 0 0 10px #f44336, 0 0 20px #f44336;
            animation: flyUp 0.3s ease forwards;
        }
        .nav-link:active {
            text-shadow: 0 0 15px #f44336, 0 0 30px #f44336;
            animation: flyUp 0.3s ease forwards;
        }
        .nav-link.active {
            background-color: #f44336;
            text-shadow: 0 0 10px #f44336, 0 0 20px #f44336;
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        .header {
            display: flex;
            align-items: center;
            padding: 1rem 2rem;
            background-color: #181818;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        .header-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.75rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 0 10px #f44336, 0 0 20px #f44336;
            letter-spacing: 1px;
        }
        .header-logo {
            width: 40px;
            height: 40px;
            background-color: #f44336;
            color: #fff;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.25rem;
            font-weight: 700;
            margin-left: 1rem;
            box-shadow: 0 0 10px #f44336;
        }
        .transcript-container {
            background: #fff;
            border-radius: 8px;
            padding: 1rem;
            max-height: 400px;
            overflow-y: auto;
            color: #212121;
            font-size: 0.875rem;
            line-height: 1.5;
        }
        .transcript-area {
            background-color: #2d2d2d;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        .wink-emoji {
            font-size: 2rem;
            display: inline-block;
            animation: winkAnimation 2s infinite;
        }
        @keyframes winkAnimation {
            0% { transform: scale(1) translateY(0); }
            40% { transform: scale(1) translateY(-10px); }
            50% { transform: scale(1.3) translateY(-10px); content: "😉"; }
            60% { transform: scale(1.3) translateY(-10px); content: "😊"; }
            70% { transform: scale(1) translateY(0); }
            100% { transform: scale(1) translateY(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInSection {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInTitle {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes progress {
            0% { width: 0; }
            50% { width: 50%; }
            100% { width: 0; }
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(244, 67, 54, 0.1); }
            100% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0); }
        }
        @keyframes flyUp {
            0% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-5px) scale(1.05); }
            100% { transform: translateY(0) scale(1); }
        }
        @media (max-width: 768px) {
            .home-grid,
            .home-grid.small {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }
            .watch-later-queue .video-item {
                flex-direction: column;
                align-items: flex-start;
            }
            .watch-later-queue .thumbnail-preview {
                width: 100%;
                max-width: 240px;
            }
            .balloon-container {
                right: 10px;
            }
            .balloon {
                width: 32px;
                height: 40px;
            }
            .rope {
                top: 40px;
                height: 20px;
            }
            .balloon-thumbnail {
                top: 60px;
                width: 32px;
            }
            .nav-links {
                flex-direction: column;
            }
            .nav-link {
                text-align: center;
            }
            .header-title {
                font-size: 1.25rem;
            }
            .header-logo {
                width: 32px;
                height: 32px;
                font-size: 1rem;
            }
            .transcript-downloader-container {
                flex-direction: column;
                gap: 1rem;
            }
            .transcript-downloader-container iframe,
            .transcript-downloader-container .transcript-container {
                width: 100%;
                max-width: 100%;
            }
        }
        @media (max-width: 480px) {
            .container {
                padding: 1rem;
            }
            .thumbnail-container {
                font-size: 1rem;
            }
            .mobile-frame {
                width: 280px;
                height: 560px;
            }
            .title-input, .url-input {
                font-size: 0.875rem;
            }
            #uploadButton, .action-button {
                font-size: 0.875rem;
                padding: 0.5rem 1rem;
            }
            .header {
                padding: 0.5rem 1rem;
            }
        }
    </style>
</head>
<body class="font-sans">
    <header class="header">
        <h1 class="header-title">CS DOWNLOADER</h1>
        <div class="header-logo">CS</div>
    </header>

    <nav class="bg-gray-800 p-4">
        <div class="container mx-auto">
            <div class="flex nav-links justify-center">
                <a href="#" class="nav-link active" data-page="thumbnail-downloader">Thumbnail Downloader</a>
                <a href="#" class="nav-link" data-page="thumbnail-previewer">Thumbnail Previewer</a>
                <a href="#" class="nav-link" data-page="transcript-downloader">Transcript Downloader</a>
            </div>
        </div>
    </nav>

    <div class="container mx-auto p-6">
        <div id="thumbnail-previewer" class="page">
            <h1 class="text-3xl font-bold text-white mb-6 text-center">Thumbnail Previewer</h1>
            <div class="mb-6 flex flex-col items-center">
                <div class="thumbnail-container shadow-lg mb-4" id="thumbnailArea">
                    Drag & Drop or Click to Upload Thumbnail
                </div>
                <input type="file" id="thumbnailInput" accept="image/*" class="hidden">
                <button id="uploadButton" class="text-white px-4 py-2 rounded-lg">Upload Image</button>
                <div class="mt-4 w-full max-w-[1280px]">
                    <input type="text" id="titleInput" class="title-input" placeholder="Enter your video title here...">
                </div>
            </div>

            <div class="balloon-container">
                <div class="balloon-group">
                    <div class="balloon"></div>
                    <div class="rope"></div>
                    <div class="balloon-thumbnail">
                        <img src="" alt="Balloon Thumbnail" class="balloon-img">
                    </div>
                </div>
                <div class="balloon-group">
                    <div class="balloon"></div>
                    <div class="rope"></div>
                    <div class="balloon-thumbnail">
                        <img src="" alt="Balloon Thumbnail" class="balloon-img">
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <div class="section">
                    <div class="accordion-header">
                        <h2 class="text-xl font-semibold">Web Browser</h2>
                        <span class="text-gray-500">▲</span>
                    </div>
                    <div class="accordion-content open">
                        <div class="space-y-6">
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Home Large</h3>
                                <div class="home-grid">
                                    <div class="placeholder">?</div>
                                    <div class="placeholder">?</div>
                                    <div class="home-large thumbnail-preview">
                                        <div class="thumbnail-wrapper">
                                            <img src="" alt="Home Large Preview" class="thumbnail-img hidden">
                                            <span class="duration">10:23</span>
                                            <div class="progress-bar"></div>
                                        </div>
                                        <div class="mt-2">
                                            <p class="title">Enter your title to see how it looks!</p>
                                            <div class="metadata">
                                                <div class="channel-icon"></div>
                                                <p class="info">Your Channel • 123K views • 1 hour ago</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="placeholder">?</div>
                                    <div class="placeholder">?</div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Home Small</h3>
                                <div class="home-grid small">
                                    <div class="placeholder">?</div>
                                    <div class="placeholder">?</div>
                                    <div class="home-small thumbnail-preview small">
                                        <div class="thumbnail-wrapper">
                                            <img src="" alt="Home Small Preview" class="thumbnail-img hidden">
                                            <span class="duration">10:23</span>
                                            <div class="progress-bar"></div>
                                        </div>
                                        <div class="mt-2">
                                            <p class="title">Enter your title to see how it looks!</p>
                                            <div class="metadata">
                                                <div class="channel-icon"></div>
                                                <p class="info">Your Channel • 123K views • 1h</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="placeholder">?</div>
                                    <div class="placeholder">?</div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Sidebar</h3>
                                <div class="space-y-2">
                                    <div class="placeholder">?</div>
                                    <div class="sidebar thumbnail-preview small">
                                        <div class="thumbnail-wrapper">
                                            <img src="" alt="Sidebar Preview" class="thumbnail-img hidden">
                                            <span class="duration">10:23</span>
                                            <div class="progress-bar"></div>
                                        </div>
                                        <div class="mt-1">
                                            <p class="title">Enter your title...</p>
                                            <div class="metadata">
                                                <div class="channel-icon"></div>
                                                <p class="info">Your Channel • 123K views • 1h</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="placeholder">?</div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Watch Later</h3>
                                <div class="watch-later-queue">
                                    <div class="video-item">
                                        <div class="watch-later-list placeholder">?</div>
                                        <div class="metadata">
                                            <p class="title">Enter your title...</p>
                                            <div class="flex items-center">
                                                <div class="channel-icon"></div>
                                                <p class="info">Your Channel • 123K views • 1h</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="video-item">
                                        <div class="watch-later-list placeholder">?</div>
                                        <div class="metadata">
                                            <p class="title">Enter your title...</p>
                                            <div class="flex items-center">
                                                <div class="channel-icon"></div>
                                                <p class="info">Your Channel • 85K views • 2h</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="video-item">
                                        <div class="watch-later-list thumbnail-preview small">
                                            <div class="thumbnail-wrapper">
                                                <img src="" alt="Watch Later Preview" class="thumbnail-img hidden">
                                                <span class="duration">15:30</span>
                                                <div class="progress-bar"></div>
                                            </div>
                                        </div>
                                        <div class="metadata">
                                            <p class="title">Enter your title...</p>
                                            <div class="flex items-center">
                                                <div class="channel-icon"></div>
                                                <p class="info">Your Channel • 200K views • 3h</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Channel Page: Large</h3>
                                <div class="channel-large thumbnail-preview">
                                    <div class="thumbnail-wrapper">
                                        <img src="" alt="Channel Large Preview" class="thumbnail-img hidden">
                                        <span class="duration">10:23</span>
                                        <div class="progress-bar"></div>
                                    </div>
                                    <div class="mt-2">
                                        <p class="title">Enter your title to see how it looks!</p>
                                        <div class="metadata">
                                            <div class="channel-icon"></div>
                                            <p class="info">123K views • 1 hour ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Channel Page: Small</h3>
                                <div class="channel-small thumbnail-preview small">
                                    <div class="thumbnail-wrapper">
                                        <img src="" alt="Channel Small Preview" class="thumbnail-img hidden">
                                        <span class="duration">10:23</span>
                                        <div class="progress-bar"></div>
                                    </div>
                                    <div class="mt-2">
                                        <p class="title">Enter your title...</p>
                                        <div class="metadata">
                                            <div class="channel-icon"></div>
                                            <p class="info">123K views • 1h</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">History</h3>
                                <div class="history thumbnail-preview small">
                                    <div class="thumbnail-wrapper">
                                        <img src="" alt="History Preview" class="thumbnail-img hidden">
                                        <span class="duration">10:23</span>
                                        <div class="progress-bar"></div>
                                    </div>
                                    <div class="mt-2">
                                        <p class="title">Enter your title...</p>
                                        <div class="metadata">
                                            <div class="channel-icon"></div>
                                            <p class="info">123K views • 1h</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Watch Later: Large</h3>
                                <div class="watch-later-large thumbnail-preview">
                                    <div class="thumbnail-wrapper">
                                        <img src="" alt="Watch Later Large Preview" class="thumbnail-img hidden">
                                        <span class="duration">10:23</span>
                                        <div class="progress-bar"></div>
                                    </div>
                                    <div class="mt-2">
                                        <p class="title">Enter your title to see how it looks!</p>
                                        <div class="metadata">
                                            <div class="channel-icon"></div>
                                            <p class="info">123K views • 1 hour ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-gray-600 mb-2">Watch Later: List</h3>
                                <div class="watch-later-list thumbnail-preview small">
                                    <div class="thumbnail-wrapper">
                                        <img src="" alt="Watch Later List Preview" class="thumbnail-img hidden">
                                        <span class="duration">10:23</span>
                                        <div class="progress-bar"></div>
                                    </div>
                                    <div class="mt-2">
                                        <p class="title">Enter your title...</p>
                                        <div class="metadata">
                                            <div class="channel-icon"></div>
                                            <p class="info">123K views • 1h</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="accordion-header">
                        <h2 class="text-xl font-semibold">Mobile</h2>
                        <span class="text-gray-500">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="mobile-frame">
                            <div class="mobile-screen p-4 space-y-6">
                                <div>
                                    <h3 class="text-lg font-medium text-gray-600 mb-2">Home: Full Width</h3>
                                    <div class="mobile-grid">
                                        <div class="placeholder">?</div>
                                        <div class="mobile-full-width thumbnail-preview">
                                            <div class="thumbnail-wrapper">
                                                <img src="" alt="Mobile Full Width Preview" class="thumbnail-img hidden">
                                                <span class="duration">10:23</span>
                                                <div class="progress-bar"></div>
                                            </div>
                                            <div class="mt-1">
                                                <p class="title">Enter your title to see how it looks!</p>
                                                <div class="metadata">
                                                    <div class="channel-icon"></div>
                                                    <p class="info">Your Channel • 123K views • 1h</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="placeholder">?</div>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="text-lg font-medium text-gray-600 mb-2">Column</h3>
                                    <div class="mobile-grid">
                                        <div class="placeholder">?</div>
                                        <div class="mobile-column thumbnail-preview">
                                            <div class="thumbnail-wrapper">
                                                <img src="" alt="Mobile Column Preview" class="thumbnail-img hidden">
                                                <span class="duration">10:23</span>
                                                <div class="progress-bar"></div>
                                            </div>
                                            <div class="mt-1">
                                                <p class="title">Enter your title...</p>
                                                <div class="metadata">
                                                    <div class="channel-icon"></div>
                                                    <p class="info">Your Channel • 123K views • 1h</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="placeholder">?</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="accordion-header">
                        <h2 class="text-xl font-semibold">Apple TV</h2>
                        <span class="text-gray-500">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="appletv-grid">
                            <div class="placeholder">?</div>
                            <div class="thumbnail-preview">
                                <div class="thumbnail-wrapper">
                                    <img src="" alt="Apple TV Preview" class="thumbnail-img hidden">
                                    <span class="duration">10:23</span>
                                    <div class="progress-bar"></div>
                                </div>
                                <div class="mt-2">
                                    <p class="title">Enter your title to see how it looks!</p>
                                    <div class="metadata">
                                        <div class="channel-icon"></div>
                                        <p class="info">Your Channel • 123K views • 1 hour ago</p>
                                    </div>
                                </div>
                            </div>
                            <div class="placeholder">?</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="accordion-header">
                        <h2 class="text-xl font-semibold">Original Image</h2>
                        <span class="text-gray-500">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="original-image">
                            <img src="" alt="Original Image" class="thumbnail-img hidden">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="thumbnail-downloader" class="page active">
            <h1 class="text-3xl font-bold text-white mb-6 text-center">Thumbnail Downloader</h1>
            <div class="flex flex-col items-center mb-6">
                <input type="text" id="thumbnailDownloaderUrl" class="url-input mb-4" placeholder="Enter YouTube video URL...">
                <button id="fetchThumbnailButton" class="action-button">Fetch Thumbnail</button>
            </div>
            <div id="thumbnailDownloaderOutput" class="flex flex-col items-center">
            </div>
        </div>

        <div id="transcript-downloader" class="page">
            <div class="flex flex-col items-center mb-6">
                <p class="text-4xl font-bold text-white mb-2 text-center">Generate YouTube Transcript for FREE!</p>
                <p class="text-sm text-gray-400 mb-4">
                    Just Paste YouTube Link – Instantly Get Transcript, Easy to Copy 
                    <span class="wink-emoji">😉</span>
                </p>
                <input type="text" id="transcriptDownloaderUrl" class="url-input mb-4" placeholder="Enter YouTube video URL...">
                <button id="generateTranscriptButton" class="action-button">Generate</button>
            </div>
            <div id="transcriptDownloaderOutput" class="flex justify-center flex-col">
                <div class="transcript-area">
                    <div class="flex transcript-downloader-container flex-row gap-4">
                        <div class="w-1/2">
                            <iframe src="" frameborder="0" allowfullscreen class="w-full aspect-video rounded-lg"></iframe>
                        </div>
                        <div class="w-1/2 transcript-container">
                            <p>Enter a YouTube URL to generate the transcript.</p>
                        </div>
                    </div>
                    <div class="flex justify-center mt-4 gap-4">
                        <button class="action-button copyTranscriptButton hidden" data-transcript="">
                            Copy Transcript
                        </button>
                        <button class="action-button viewFullScriptButton hidden" data-transcript="">
                            View Full Script
                        </button>
                        <button class="action-button downloadScriptButton hidden" data-transcript="" data-video-id="">
                            Download Script
                        </button>
                    </div>
                </div>

                <div class="mt-8 space-y-6">
                    <div>
                        <h2 class="text-2xl font-bold text-white bg-red-500 rounded-lg p-4">Effortlessly Generate YouTube Transcripts with Copy and Translation Features! 🚀</h2>
                        <p class="text-sm text-gray-300 mt-2">
                            Use csdownloader.site to effortlessly extract the transcript from any YouTube video. But that's not all! We've added powerful new features to make learning, creating, and sharing easier than ever.
                        </p>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-white bg-[#9333ea] rounded-lg p-4">New Features 😎</h2>
                        <ul class="text-sm text-gray-300 mt-2 list-disc list-inside">
                            <li>Remove Unwanted Sections: Cut out sponsored segments, intros, outros, or anything else you don't need.</li>
                            <li>Free AI Prompt Library: Access a collection of prompts to use with your transcript for generating summaries, notes, creative content, and more!</li>
                            <li>Translation: Choose the language for the transcript and translate it to over 125 languages.</li>
                        </ul>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-white bg-[#fecaca] rounded-lg p-4">How to Generate a YouTube Transcript 📃</h2>
                        <ol class="text-sm text-gray-300 mt-2 list-decimal list-inside">
                            <li>Paste the YouTube video link and click "Get Transcript."</li>
                            <li>Customize your transcript by removing unwanted sections and selecting your language.</li>
                            <li>Explore our AI Prompt Library and take your transcript to the next level!</li>
                        </ol>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-black bg-white rounded-lg p-4">You will also receive:</h2>
                        <ul class="text-sm text-gray-300 mt-2 list-disc list-inside">
                            <li>Embedded Player: To view the video and transcript side by side.</li>
                            <li>Copy Button: To copy the transcript with one click.</li>
                            <li>Change Language Button: To change the language of the transcript. Translation Button: To translate the transcript to over 125 languages. Click on any line in the transcript to jump to that part of the video. 🔍</li>
                        </ul>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-white bg-[#7e22ce] rounded-lg p-4">Why you need YouTube Transcript? 🤔</h2>
                        <p class="text-sm text-gray-300 mt-2">
                            YouTube videos are invaluable for learning and entertainment. However, sometimes you need to take notes or share the content with someone who prefers reading. This tool makes it a breeze to obtain the transcript from any YouTube video.
                        </p>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-white bg-[#16a34a] rounded-lg p-4">For Note Takers 📝</h2>
                        <p class="text-sm text-gray-300 mt-2">
                            It can be challenging to follow along with a video while taking notes. With the transcript, you can easily copy and paste the text into your notes. Even better, you can paste the YouTube transcript into chatGPT or other AI tools to quickly make notes for you. Some Podcasts are uploaded on YouTube, and you can get their transcript to use for note-taking.<br>
                            We also provide an embedded player where you can view the video and transcript simultaneously. You can click on any line in the transcript to jump to that part in the video.<br>
                            If the video is not in your native language, you can translate the transcript to your language, making learning and note-taking a breeze.
                        </p>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-white bg-pink-500 rounded-lg p-4">For Content Creators 🎥</h2>
                        <p class="text-sm text-gray-300 mt-2">
                            Content creators can use this tool to research and create content effortlessly. Simply add your YouTube video URL and get the transcript. You can use the transcript to craft blog posts, articles, or detailed show notes related to your video content.<br>
                            Some ideas that we love:<br>
                            • Create Quiz, Meme, Infographic, and more from the transcript. Reuse old content to increase engagement!<br>
                            • Summarize the transcript and add it to the video description to rank higher in search engines.<br>
                            • Extract key points from the transcript to create engaging social media posts that entice viewers to watch the full video.<br>
                            • Use the transcript as a foundation for blog posts, articles, or detailed show notes related to your video content. Some people prefer reading over watching videos. This will help you reach a wider audience.<br>
                            • Add summaries and key points to blog posts, tweets, newsletter, and more.
                        </p>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-black bg-yellow-500 rounded-lg p-4">Pair YouTube Transcripts with AI tools 🤖</h2>
                        <p class="text-sm text-gray-300 mt-2">
                            Using AI to learn, create content, and take notes is the future.<br>
                            You can use the transcript with other AI tools to generate summaries, notes, or even generate a new video with the transcript.<br>
                            Some Ideas to use the transcript with other AI tools are:<br>
                            • Generate notes<br>
                            • Extract key points<br>
                            • Generate summary<br>
                            • Generate questions and answers aka generate quiz<br>
                            • Extract powerful quotes from the video<br>
                            • Ask questions and get answers from the video<br>
                            • Find more information about the topics mentioned in the video<br>
                            • Create Fan quizzes and trivia.<br>
                            • Create memes and infographic
                        </p>
                    </div>

                    <div>
                        <h2 class="text-xl font-bold text-white bg-teal-500 rounded-lg p-4">FAQ</h2>
                        <div class="space-y-2 mt-2 faq-section">
                            <div class="section">
                                <div class="accordion-header">
                                    <h3 class="text-sm font-semibold text-white">Is csdownloader.site free to use?</h3>
                                    <span class="text-gray-400">▼</span>
                                </div>
                                <div class="accordion-content">
                                    <p class="text-sm text-gray-300">
                                        Yes, csdownloader.site is completely free to use. You can easily extract subtitles/transcripts generated by YouTube from YouTube videos without any cost.
                                    </p>
                                </div>
                            </div>
                            <div class="section">
                                <div class="accordion-header">
                                    <h3 class="text-sm font-semibold text-white">How do I access the transcript after generating it?</h3>
                                    <span class="text-gray-400">▼</span>
                                </div>
                                <div class="accordion-content">
                                    <p class="text-sm text-gray-300">
                                        Once you've generated the transcript, you can copy it with just one click using the provided Copy button. You can also view the transcript alongside the video using the Embedded Player.
                                    </p>
                                </div>
                            </div>
                            <div class="section">
                                <div class="accordion-header">
                                    <h3 class="text-sm font-semibold text-white">Can I translate the transcript to other languages?</h3>
                                    <span class="text-gray-400">▼</span>
                                </div>
                                <div class="accordion-content">
                                    <p class="text-sm text-gray-300">
                                        Absolutely! csdownloader.site allows you to translate the subtitles/transcript to over 125 languages. Simply select your desired language using the Change Language button.
                                    </p>
                                </div>
                            </div>
                            <div class="section">
                                <div class="accordion-header">
                                    <h3 class="text-sm font-semibold text-white">Is there a limit to the length of the video I can transcribe?</h3>
                                    <span class="text-gray-400">▼</span>
                                </div>
                                <div class="accordion-content">
                                    <p class="text-sm text-gray-300">
                                        Currently, there are no limits on the length of the video you can transcribe. You can transcribe videos of any duration seamlessly.
                                    </p>
                                </div>
                            </div>
                            <div class="section">
                                <div class="accordion-header">
                                    <h3 class="text-sm font-semibold text-white">How long does it take to generate the transcript?</h3>
                                    <span class="text-gray-400">▼</span>
                                </div>
                                <div class="accordion-content">
                                    <p class="text-sm text-gray-300">
                                        The transcript is generated almost instantly after you paste the YouTube video link and click "Get Transcript." You'll have your transcript ready within seconds!
                                    </p>
                                </div>
                            </div>
                            <div class="section">
                                <div class="accordion-header">
                                    <h3 class="text-sm font-semibold text-white">Can I download the transcript?</h3>
                                    <span class="text-gray-400">▼</span>
                                </div>
                                <div class="accordion-content">
                                    <p class="text-sm text-gray-300">
                                        Yes, you can now download the transcript as a .txt file using the "Download Script" button below the transcript area.
                                    </p>
                                </div>
                            </div>
                            <div class="section">
                                <div class="accordion-header">
                                    <h3 class="text-sm font-semibold text-white">Is there a limit to the number of transcripts I can generate?</h3>
                                    <span class="text-gray-400">▼</span>
                                </div>
                                <div class="accordion-content">
                                    <p class="text-sm text-gray-300">
                                        No, there are no limits on the number of transcripts you can generate. Feel free to transcribe as many YouTube videos as you need!
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <p class="text-sm text-gray-400 italic">
                            <strong>Important:- Disclaimer:</strong> csdownloader.site is an independent service and is not associated or affiliated with YouTube or Google. Any brand names or logos displayed on this site are used for illustrative purposes only and do not imply endorsement or partnership.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');
        const balloonContainer = document.querySelector('.balloon-container');

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = link.getAttribute('data-page');

                navLinks.forEach(l => l.classList.remove('active'));
                pages.forEach(p => p.classList.remove('active'));

                link.classList.add('active');
                document.getElementById(pageId).classList.add('active');

                if (pageId === 'thumbnail-previewer') {
                    balloonContainer.classList.add('active');
                } else {
                    balloonContainer.classList.remove('active');
                }
            });
        });

        const thumbnailArea = document.getElementById('thumbnailArea');
        const thumbnailInput = document.getElementById('thumbnailInput');
        const uploadButton = document.getElementById('uploadButton');
        const thumbnailImgs = document.querySelectorAll('.thumbnail-img');
        const balloonImgs = document.querySelectorAll('.balloon-img');
        const balloonGroups = document.querySelectorAll('.balloon-group');
        const titleInput = document.getElementById('titleInput');
        const titleElements = document.querySelectorAll('.thumbnail-preview .title');

        thumbnailArea.addEventListener('click', () => {
            thumbnailInput.click();
        });

        thumbnailInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file && file.type.startsWith('image/')) {
                handleImageUpload(file);
            } else {
                alert('Please upload an image file!');
            }
        });

        uploadButton.addEventListener('click', () => {
            thumbnailInput.click();
        });

        thumbnailArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            thumbnailArea.classList.add('drag-over');
        });

        thumbnailArea.addEventListener('dragleave', () => {
            thumbnailArea.classList.remove('drag-over');
        });

        thumbnailArea.addEventListener('drop', (e) => {
            e.preventDefault();
            thumbnailArea.classList.remove('drag-over');

            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                handleImageUpload(file);
            } else {
                alert('Please drop an image file!');
            }
        });

        function handleImageUpload(file) {
            const reader = new FileReader();
            reader.onload = (event) => {
                const imageSrc = event.target.result;
                thumbnailImgs.forEach(img => {
                    img.src = imageSrc;
                    img.classList.remove('hidden');
                });
                balloonImgs.forEach(img => {
                    img.src = imageSrc;
                    img.classList.remove('hidden');
                });
                balloonGroups.forEach(group => {
                    group.style.animation = 'none';
                    group.offsetHeight;
                    group.style.animation = 'floatUp 6s linear infinite';
                });
            };
            reader.onerror = () => {
                alert('Failed to load the image. Please try again.');
            };
            reader.readAsDataURL(file);
        }

        titleInput.addEventListener('input', (e) => {
            const newTitle = e.target.value || 'Enter your title to see how it looks!';
            titleElements.forEach(title => {
                title.textContent = newTitle;
                title.style.animation = 'none';
                title.offsetHeight;
                title.style.animation = 'fadeInTitle 0.3s ease forwards';
            });
        });

        const accordionHeaders = document.querySelectorAll('.accordion-header');
        accordionHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                const isOpen = content.classList.contains('open');
                content.classList.toggle('open');
                const arrow = header.querySelector('span');
                arrow.textContent = isOpen ? '▼' : '▲';
            });
        });

        function extractVideoId(url) {
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        const thumbnailDownloaderUrlInput = document.getElementById('thumbnailDownloaderUrl');
        const fetchThumbnailButton = document.getElementById('fetchThumbnailButton');
        const thumbnailDownloaderOutput = document.getElementById('thumbnailDownloaderOutput');

        fetchThumbnailButton.addEventListener('click', () => {
            const url = thumbnailDownloaderUrlInput.value.trim();
            const videoId = extractVideoId(url);

            if (!videoId) {
                alert('Please enter a valid YouTube video URL!');
                return;
            }

            const thumbnails = [
                { url: `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`, label: "Max Quality", dimensions: "1280x720", fileName: `thumbnail-${videoId}-maxres.jpg` },
                { url: `https://img.youtube.com/vi/${videoId}/sddefault.jpg`, label: "Standard Quality", dimensions: "640x480", fileName: `thumbnail-${videoId}-sd.jpg` },
                { url: `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`, label: "High Quality", dimensions: "480x360", fileName: `thumbnail-${videoId}-hq.jpg` },
                { url: `https://img.youtube.com/vi/${videoId}/mqdefault.jpg`, label: "Medium Quality", dimensions: "320x180", fileName: `thumbnail-${videoId}-mq.jpg` },
                { url: `https://img.youtube.com/vi/${videoId}/default.jpg`, label: "Low Quality", dimensions: "120x90", fileName: `thumbnail-${videoId}-default.jpg` }
            ];

            thumbnailDownloaderOutput.innerHTML = `
                <div class="text-center space-y-6">
                    ${thumbnails.map((thumb, index) => `
                        <div class="flex flex-col items-center">
                            <h3 class="text-lg font-semibold text-white mb-2">${thumb.label} (${thumb.dimensions})</h3>
                            <img src="${thumb.url}" alt="${thumb.label} Thumbnail" class="block mx-auto max-w-full rounded-lg mb-2" style="max-width: ${thumb.dimensions.split('x')[0]}px;">
                            <button class="action-button downloadThumbnailButton" data-url="${thumb.url}" data-filename="${thumb.fileName}">
                                Download ${thumb.label}
                            </button>
                        </div>
                    `).join('')}
                </div>
            `;

            const downloadButtons = document.querySelectorAll('.downloadThumbnailButton');
            downloadButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const thumbnailUrl = button.getAttribute('data-url');
                    const fileName = button.getAttribute('data-filename');
                    fetch(thumbnailUrl)
                        .then(response => response.blob())
                        .then(blob => {
                            const url = window.URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = fileName;
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            window.URL.revokeObjectURL(url);
                        })
                        .catch(() => alert('Failed to download thumbnail. Please try again.'));
                });
            });
        });

        const transcriptDownloaderUrlInput = document.getElementById('transcriptDownloaderUrl');
        const generateTranscriptButton = document.getElementById('generateTranscriptButton');
        const transcriptDownloaderOutput = document.getElementById('transcriptDownloaderOutput');
        const apiKey = 'YOUR_GOOGLE_API_KEY';

        generateTranscriptButton.addEventListener('click', () => {
            const url = transcriptDownloaderUrlInput.value.trim();
            const videoId = extractVideoId(url);

            if (!videoId) {
                alert('Please enter a valid YouTube video URL!');
                return;
            }

            const embedUrl = `https://www.youtube.com/embed/${videoId}?enablejsapi=1`;
            transcriptDownloaderOutput.querySelector('.transcript-downloader-container').innerHTML = `
                <div class="w-1/2">
                    <iframe src="${embedUrl}" frameborder="0" allowfullscreen class="w-full aspect-video rounded-lg"></iframe>
                </div>
                <div class="w-1/2 transcript-container">
                    <p>Loading transcript...</p>
                </div>
            `;

            fetch(`https://www.googleapis.com/youtube/v3/captions?part=snippet&videoId=${videoId}&key=${apiKey}`)
                .then(response => response.json())
                .then(data => {
                    if (data.items && data.items.length > 0) {
                        const captionTrack = data.items[0];
                        const captionId = captionTrack.id;
                        const language = captionTrack.snippet.language;
                        const captionName = captionTrack.snippet.name || language;

                        const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
                        const captionUrl = `https://www.youtube.com/api/timedtext?v=${videoId}&lang=${language}`;
                        fetch(proxyUrl + captionUrl)
                            .then(response => response.text())
                            .then(xmlText => {
                                const parser = new DOMParser();
                                const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
                                const texts = xmlDoc.getElementsByTagName('text');
                                let transcript = '';
                                for (let i = 0; i < texts.length; i++) {
                                    const start = texts[i].getAttribute('start');
                                    const dur = texts[i].getAttribute('dur');
                                    const text = texts[i].textContent;
                                    transcript += `[${start}s - ${parseFloat(start) + parseFloat(dur)}s] ${text}\n`;
                                }

                                transcriptDownloaderOutput.querySelector('.transcript-container').innerHTML = `
                                    <h3 class="text-lg font-semibold mb-2">Transcript (${captionName})</h3>
                                    <pre class="whitespace-pre-wrap">${transcript || 'No transcript available.'}</pre>
                                `;

                                const copyButton = transcriptDownloaderOutput.querySelector('.copyTranscriptButton');
                                const viewFullScriptButton = transcriptDownloaderOutput.querySelector('.viewFullScriptButton');
                                const downloadScriptButton = transcriptDownloaderOutput.querySelector('.downloadScriptButton');

                                copyButton.classList.remove('hidden');
                                viewFullScriptButton.classList.remove('hidden');
                                downloadScriptButton.classList.remove('hidden');

                                const encodedTranscript = encodeURIComponent(transcript);
                                copyButton.setAttribute('data-transcript', encodedTranscript);
                                viewFullScriptButton.setAttribute('data-transcript', encodedTranscript);
                                downloadScriptButton.setAttribute('data-transcript', encodedTranscript);
                                downloadScriptButton.setAttribute('data-video-id', videoId);

                                copyButton.addEventListener('click', () => {
                                    const transcriptText = decodeURIComponent(copyButton.getAttribute('data-transcript'));
                                    navigator.clipboard.writeText(transcriptText)
                                        .then(() => alert('Transcript copied to clipboard!'))
                                        .catch(() => alert('Failed to copy transcript. Please try again.'));
                                });

                                viewFullScriptButton.addEventListener('click', () => {
                                    const transcriptText = encodeURIComponent(transcript);
                                    const fullScriptUrl = `full-transcript.html?transcript=${transcriptText}&language=${encodeURIComponent(captionName)}`;
                                    window.open(fullScriptUrl, '_blank');
                                });

                                downloadScriptButton.addEventListener('click', () => {
                                    const transcriptText = decodeURIComponent(downloadScriptButton.getAttribute('data-transcript'));
                                    const videoId = downloadScriptButton.getAttribute('data-video-id');
                                    const blob = new Blob([transcriptText], { type: 'text/plain' });
                                    const url = window.URL.createObjectURL(blob);
                                    const a = document.createElement('a');
                                    a.href = url;
                                    a.download = `transcript-${videoId}.txt`;
                                    document.body.appendChild(a);
                                    a.click();
                                    document.body.removeChild(a);
                                    window.URL.revokeObjectURL(url);
                                });
                            })
                            .catch(err => {
                                console.error(err);
                                transcriptDownloaderOutput.querySelector('.transcript-container').innerHTML = `
                                    <p class="text-red-500">Failed to load transcript. Please try another video.</p>
                                `;
                                transcriptDownloaderOutput.querySelector('.copyTranscriptButton').classList.add('hidden');
                                transcriptDownloaderOutput.querySelector('.viewFullScriptButton').classList.add('hidden');
                                transcriptDownloaderOutput.querySelector('.downloadScriptButton').classList.add('hidden');
                            });
                    } else {
                        transcriptDownloaderOutput.querySelector('.transcript-container').innerHTML = `
                            <p class="text-red-500">No transcript available for this video.</p>
                        `;
                        transcriptDownloaderOutput.querySelector('.copyTranscriptButton').classList.add('hidden');
                        transcriptDownloaderOutput.querySelector('.viewFullScriptButton').classList.add('hidden');
                        transcriptDownloaderOutput.querySelector('.downloadScriptButton').classList.add('hidden');
                    }
                })
                .catch(err => {
                    console.error(err);
                    transcriptDownloaderOutput.querySelector('.transcript-container').innerHTML = `
                        <p class="text-red-500">Error fetching transcript. Check API key or try again.</p>
                    `;
                    transcriptDownloaderOutput.querySelector('.copyTranscriptButton').classList.add('hidden');
                    transcriptDownloaderOutput.querySelector('.viewFullScriptButton').classList.add('hidden');
                    transcriptDownloaderOutput.querySelector('.downloadScriptButton').classList.add('hidden');
                });
        });

        balloonGroups.forEach((group, index) => {
            group.style.animationDelay = `${index * 3}s`;
        });
    </script>
</body>
</html>